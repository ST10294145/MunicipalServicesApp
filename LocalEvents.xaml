<Window x:Class="MunicipalServicesApp.LocalEvents"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Local Events and Announcements" Height="920" Width="800"
        WindowStartupLocation="CenterScreen">

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="23*"/>
                <RowDefinition Height="7*"/>
            </Grid.RowDefinitions>
            <StackPanel Grid.RowSpan="2">

                <!-- Add Event Button (Visible only for Admin) -->
                <Button x:Name="btnAddEvent"
                        Content="➕ Add New Event"
                        Width="180"
                        Height="35"
                        Background="#FF007ACC"
                        Foreground="White"
                        FontWeight="Bold"
                        Margin="0,0,0,15"
                        Visibility="Collapsed"
                        Click="btnAddEvent_Click"/>


                <!-- Back Button -->
                <Button x:Name="btnBack"
                        Content="← Back to Main Menu"
                        Width="180"
                        Height="35"
                        HorizontalAlignment="Left"
                        Margin="0,0,0,15"
                        Background="#FF007ACC"
                        Foreground="White"
                        FontWeight="Bold"
                        Click="btnBack_Click"/>

                <!-- Search Bar -->
                <TextBox x:Name="txtSearch"
                         Width="300"
                         Margin="0,0,0,10"
                         Text="Search events..."
                         Foreground="Gray"
                         GotFocus="txtSearch_GotFocus"
                         LostFocus="txtSearch_LostFocus"
                         TextChanged="txtSearch_TextChanged"/>

                <!-- Category Filter -->
                <ComboBox x:Name="cmbCategory"
                          Width="200"
                          Margin="0,0,0,10"/>

                <!-- Date Filter -->
                <DatePicker x:Name="dpDate"
                            Width="200"
                            Margin="0,0,0,10"/>

                <!-- Search Buttons Row -->
                <StackPanel Orientation="Horizontal">
                    <Button x:Name="btnSearch"
                            Content="Search"
                            Width="120"
                            Height="35"
                            Background="#FF28A745"
                            Foreground="White"
                            FontWeight="Bold"
                            Margin="0,0,10,10"
                            Click="btnSearch_Click"/>

                    <Button x:Name="btnReset"
                            Content="Clear Search"
                            Width="120"
                            Height="35"
                            Background="#FFFF5722"
                            Foreground="White"
                            FontWeight="Bold"
                            Margin="0,0,0,10"
                            Click="btnReset_Click"/>
                </StackPanel>

                <!-- Suggestions -->
                <ListBox x:Name="lstSuggestions"
                         Visibility="Collapsed"
                         Height="100"
                         Margin="10,0,10,10"
                         Background="White"
                         BorderBrush="Gray"
                         BorderThickness="1"
                         MouseLeftButtonUp="lstSuggestions_MouseLeftButtonUp" />

                <!-- DataGrid for Events -->
                <DataGrid x:Name="dgEvents"
                          Height="250"
                          Margin="0,10,0,10"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          IsReadOnly="True"
                          GridLinesVisibility="Horizontal"
                          AlternatingRowBackground="#FFEFEFEF">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Title" Binding="{Binding Title}" Width="*"/>
                        <DataGridTextColumn Header="Category" Binding="{Binding Category}" Width="150"/>
                        <DataGridTextColumn Header="Date" Binding="{Binding Date}" Width="120"/>
                        <DataGridTextColumn Header="Description" Binding="{Binding Description}" Width="2*"/>
                    </DataGrid.Columns>
                </DataGrid>

                <!-- Recommendations -->
                <Label Content="Recommended based on your searches:"
                       FontWeight="Bold"
                       Margin="0,10,0,5"/>
                <ListBox x:Name="lstRecommendations"
                         Height="100"
                         BorderBrush="Gray"
                         BorderThickness="1"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Window>
